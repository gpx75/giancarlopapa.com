@import "tailwindcss";
@import "@nuxt/ui";
@import "leaflet/dist/leaflet.css";
@plugin "@tailwindcss/typography";

@theme static {
  --font-sans:    'Space Grotesk', sans-serif;
  --font-mono:    'JetBrains Mono', monospace;
  --font-display: 'Space Grotesk', sans-serif;

  /* Snazzy magenta — centered on #ff6ac1 */
  --color-magenta:     #ff6ac1;
  --color-magenta-50:  #fff0f8;
  --color-magenta-100: #ffe4f4;
  --color-magenta-200: #ffbde8;
  --color-magenta-300: #ff8fd5;
  --color-magenta-400: #ff6ac1;
  --color-magenta-500: #ff3aac;
  --color-magenta-600: #e80090;
  --color-magenta-700: #c10078;
  --color-magenta-800: #9e0062;
  --color-magenta-900: #830053;
  --color-magenta-950: #4d0030;

  /* Snazzy red — centered on #ff5c57 */
  --color-snazzy-red:     #ff5c57;
  --color-snazzy-red-50:  #fff1f0;
  --color-snazzy-red-100: #ffe3e2;
  --color-snazzy-red-200: #ffbdbb;
  --color-snazzy-red-300: #ff8d8a;
  --color-snazzy-red-400: #ff5c57;
  --color-snazzy-red-500: #ff2520;
  --color-snazzy-red-600: #e80000;
  --color-snazzy-red-700: #bf0000;
  --color-snazzy-red-800: #9b0000;
  --color-snazzy-red-900: #7f0000;
  --color-snazzy-red-950: #4a0000;

  /* Snazzy blue — centered on #57c7ff */
  --color-snazzy-blue:     #57c7ff;
  --color-snazzy-blue-50:  #f0f9ff;
  --color-snazzy-blue-100: #e0f4ff;
  --color-snazzy-blue-200: #bae8ff;
  --color-snazzy-blue-300: #88d6ff;
  --color-snazzy-blue-400: #57c7ff;
  --color-snazzy-blue-500: #1dafff;
  --color-snazzy-blue-600: #0092f5;
  --color-snazzy-blue-700: #0074cc;
  --color-snazzy-blue-800: #005ea6;
  --color-snazzy-blue-900: #004d88;
  --color-snazzy-blue-950: #002f58;

  /* Snazzy cyan — centered on #9aedfe */
  --color-snazzy-cyan:     #9aedfe;
  --color-snazzy-cyan-50:  #f0feff;
  --color-snazzy-cyan-100: #e0fcff;
  --color-snazzy-cyan-200: #c7f9fe;
  --color-snazzy-cyan-300: #aef2fe;
  --color-snazzy-cyan-400: #9aedfe;
  --color-snazzy-cyan-500: #62defa;
  --color-snazzy-cyan-600: #22c9f4;
  --color-snazzy-cyan-700: #06aed9;
  --color-snazzy-cyan-800: #0888ad;
  --color-snazzy-cyan-900: #0a6e8d;
  --color-snazzy-cyan-950: #063d52;

  /* Snazzy yellow — centered on #f3f99d */
  --color-snazzy-yellow:     #f3f99d; /* bare alias for existing usages */
  --color-snazzy-yellow-50:  #feffef;
  --color-snazzy-yellow-100: #fdfee0;
  --color-snazzy-yellow-200: #faffc0;
  --color-snazzy-yellow-300: #f8fdb0;
  --color-snazzy-yellow-400: #f3f99d;
  --color-snazzy-yellow-500: #e8f260;
  --color-snazzy-yellow-600: #ccd42a;
  --color-snazzy-yellow-700: #a5aa15;
  --color-snazzy-yellow-800: #7d8010;
  --color-snazzy-yellow-900: #64670e;
  --color-snazzy-yellow-950: #363805;

  /* Snazzy dark — neutral scale anchored on bg #282a36 → grey #686868 → fg #eff0eb */
  --color-snazzy-dark:     #686868;
  --color-snazzy-dark-50:  #f4f4f2;  /* near-white fg */
  --color-snazzy-dark-100: #eff0eb;  /* foreground / bright-white */
  --color-snazzy-dark-200: #f1f1f0;  /* ANSI white */
  --color-snazzy-dark-300: #c8c8ca;
  --color-snazzy-dark-400: #97979b;  /* cursor */
  --color-snazzy-dark-500: #78787e;
  --color-snazzy-dark-600: #686868;  /* ANSI bright-black */
  --color-snazzy-dark-700: #4a4a55;
  --color-snazzy-dark-800: #3a3c4a;
  --color-snazzy-dark-900: #2d2f3d;
  --color-snazzy-dark-950: #282a36;  /* background / ANSI black */

  /* Snazzy terminal green — centered on #5af78e */
  --color-terminal-50:  #f0fff6;
  --color-terminal-100: #d8ffeb;
  --color-terminal-200: #a9ffd0;
  --color-terminal-300: #72f8a9;
  --color-terminal-400: #5af78e;
  --color-terminal-500: #20e86a;
  --color-terminal-600: #0ec455;
  --color-terminal-700: #0b9a43;
  --color-terminal-800: #0d7535;
  --color-terminal-900: #0d5e2c;
  --color-terminal-950: #063318;
}

body {
  font-family: var(--font-mono); /* JetBrains Mono — terminal body font */
  color: var(--color-snazzy-dark-900); /* #2d2f3d — dark on light bg */
}

.dark body {
  color: var(--color-snazzy-dark-100); /* #eff0eb — Snazzy foreground on dark bg */
}

/* Page-level headings — applies outside .prose only */
h1:not(.prose *), h2:not(.prose *), h3:not(.prose *),
h4:not(.prose *), h5:not(.prose *), h6:not(.prose *) {
  font-family: var(--font-display);
  font-weight: 700;
  color: var(--color-snazzy-dark-950);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-optical-sizing: auto;
}

.dark h1:not(.prose *), .dark h2:not(.prose *), .dark h3:not(.prose *),
.dark h4:not(.prose *), .dark h5:not(.prose *), .dark h6:not(.prose *) {
  color: var(--color-snazzy-dark-100);
}

h1:not(.prose *) { font-size: var(--text-6xl); line-height: 1;      letter-spacing: -0.03em; }
h2:not(.prose *) { font-size: var(--text-5xl); line-height: 1.1;    letter-spacing: -0.025em; }
h3:not(.prose *) { font-size: var(--text-3xl); line-height: 1.2;    letter-spacing: -0.015em; }
h4:not(.prose *) { font-size: var(--text-2xl); line-height: 1.25;   letter-spacing: -0.01em; }
h5:not(.prose *)  { font-size: var(--text-xl);  line-height: 1.3; }
h6:not(.prose *)  { font-size: var(--text-lg);  line-height: 1.4; }

@media (max-width: 767px) {
  h1:not(.prose *) { font-size: var(--text-4xl); }
  h2:not(.prose *) { font-size: var(--text-3xl); }
  h3:not(.prose *) { font-size: var(--text-2xl); }
  h4:not(.prose *) { font-size: var(--text-xl); }
}

/* Blog card — heading shifts on card hover */
.group:hover h2:not(.prose *) { color: var(--color-snazzy-dark-700); }
.dark .group:hover h2:not(.prose *) { color: #ffffff; }

/* Terminal blinking cursor */
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.cursor::after {
  content: '▌';
  color: var(--color-terminal-400);
  animation: blink 1.2s step-end infinite;
  margin-left: 0.1em;
  font-family: var(--font-mono);
  font-weight: 400;
}

/* Blog prose — light mode */
.prose {
  --tw-prose-body: #131314;
  --tw-prose-headings: #18181b;
  --tw-prose-links: var(--color-magenta-500);
  --tw-prose-bold: #18181b;
  --tw-prose-counters: #71717a;
  --tw-prose-bullets: #71717a;
  --tw-prose-hr: #e4e4e7;
  --tw-prose-quotes: #3f3f46;
  --tw-prose-quote-borders: var(--color-magenta-300);
  --tw-prose-captions: #71717a;
  --tw-prose-code: var(--color-terminal-700);
  --tw-prose-pre-code: var(--color-terminal-300);
  --tw-prose-pre-bg: #18181b;
  --tw-prose-th-borders: #d4d4d8;
  --tw-prose-td-borders: #e4e4e7;
}

/* Blog prose — dark mode (unlayered, overrides layered prose-invert) */
.dark .prose {
  --tw-prose-body: #d4d4d8;
  --tw-prose-headings: #fafafa;
  --tw-prose-links: var(--color-magenta-400);
  --tw-prose-bold: #fafafa;
  --tw-prose-counters: #a1a1aa;
  --tw-prose-bullets: #52525b;
  --tw-prose-hr: #3f3f46;
  --tw-prose-quotes: #d4d4d8;
  --tw-prose-quote-borders: var(--color-magenta-500);
  --tw-prose-captions: #a1a1aa;
  --tw-prose-code: var(--color-terminal-400);
  --tw-prose-pre-code: var(--color-terminal-300);
  --tw-prose-pre-bg: #09090b;
  --tw-prose-th-borders: #3f3f46;
  --tw-prose-td-borders: #27272a;
}

.prose :where(h1, h2, h3, h4, h5, h6) {
  font-family: var(--font-display);
}

/* Nuxt Content MDC wraps headings in anchor tags for deep-linking — strip link styling */
.prose :where(h1, h2, h3, h4, h5, h6) > a {
  color: inherit;
  text-decoration: none;
  font-weight: inherit;
}

.prose :where(code):not(:where(pre *)) {
  font-family: var(--font-mono);
  font-weight: 500;
  background: color-mix(in srgb, var(--color-terminal-400) 12%, transparent);
  padding: 0.15em 0.4em;
  border-radius: 0.3em;
}

.prose :where(pre) {
  font-family: var(--font-mono);
}
